--- Update partial_refresh signature
    pub fn partial_refresh(&mut self, target: u8, ghosting_rate: f32, temperature: i8) {
--- Update fast_refresh signature  
    pub fn fast_refresh(&mut self, target: u8, ghosting_rate: f32, temperature: i8) {
--- Add temp_factor in partial_refresh after direction_factor
        // Temperature-dependent ghosting factor
        let temp_factor = Self::temperature_ghosting_factor(temperature);
--- Update content_ghosting calculation in partial_refresh
        let mut content_ghosting =
            ghosting_rate * transition.abs() * (1.0 + self.ghosting * 0.5) * direction_factor * temp_factor;
--- Add temp_factor in fast_refresh after direction_factor
        // Temperature-dependent ghosting factor
        let temp_factor = Self::temperature_ghosting_factor(temperature);
--- Update content_ghosting calculation in fast_refresh
        let mut content_ghosting = ghosting_rate * transition.abs()
            * (1.0 + self.ghosting) * direction_factor * temp_factor;
--- Add temperature_ghosting_factor method before closing brace of impl PixelState
    /// Calculate temperature-dependent ghosting factor
    ///
    /// Returns multiplier for ghosting accumulation based on temperature:
    /// - Cold (<5°C): 1.3x more ghosting (particles sluggish)
    /// - Hot (>40°C): 1.2x more ghosting (increased particle diffusion)
    /// - Optimal (5-40°C): 1.0x (normal ghosting)
    fn temperature_ghosting_factor(temperature: i8) -> f32 {
        match temperature {
            t if t < 5 => 1.3,   // Cold: 30% more ghosting
            t if t > 40 => 1.2,  // Hot: 20% more ghosting
            _ => 1.0,            // Optimal range
        }
    }
--- Update partial_refresh_all signature
    pub fn partial_refresh_all(&mut self, framebuffer: &[Gray4], ghosting_rate: f32, temperature: i8) {
--- Update partial_refresh call in partial_refresh_all
            state.partial_refresh(target, ghosting_rate, temperature);
--- Update fast_refresh_all signature
    pub fn fast_refresh_all(&mut self, framebuffer: &[Gray4], ghosting_rate: f32, temperature: i8) {
--- Update fast_refresh call in fast_refresh_all
            state.fast_refresh(target, ghosting_rate, temperature);
